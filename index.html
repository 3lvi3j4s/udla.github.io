<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App UDLA - Asistente Acad√©mico</title>
    <link rel="stylesheet" href="styles.css"> 
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAo9T7T8tC2K6R8B3d4Q/6r9V/C8T0P1rA7P0C0c="
          crossorigin=""/>
</head>
<body>
    
    <span class="menu-toggle" onclick="toggleMenu()">‚ò∞</span>

    <div id="sidebar" class="sidebar">
        <span class="close-btn" onclick="toggleMenu()">√ó</span>
        <h3 class="sidebar-title">Men√∫ UDLA</h3>
        <a href="#" onclick="mostrarVista('horario'); volverACarrusel(); toggleMenu();"> Horario y Detalles</a>
        <a href="#" onclick="mostrarVista('mapa'); toggleMenu();"> Ver Mapa</a>
        
        <a href="#" onclick="mostrarVista('vr-view'); toggleMenu();"> Tour VR 360¬∞</a>

        <a href="#" onclick="cerrarSesion(); toggleMenu();" class="btn-logout"> Cerrar Sesi√≥n</a>
        <div class="sidebar-footer">
        </div>
    </div>
    
    <header class="header">
        <h1>Find U</h1>
    </header>

    <div class="main-container">
        
        <section id="login" class="panel">
            <h2 class="panel-titulo"> Iniciar Sesi√≥n UDLA</h2>
            <form id="login-form">
                <div class="input-group">
                    <label for="usuario">RUT/Usuario:</label>
                    <input type="text" id="usuario" name="usuario" required>
                </div>
                <div class="input-group">
                    <label for="password">Contrase√±a:</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit" class="btn-login">Acceder</button>
                <p id="mensaje-error" class="mensaje-error"></p>
            </form>
            <p style="text-align:center; margin-top:15px; font-size:0.9em; color:#999;">
                Ejemplo 1: 19876543-2 / clases<br>
                Ejemplo 2: 17123456-7 / udla
            </p>
        </section>

        <section id="horario" class="panel oculto">
            
            <h2 class="panel-titulo" id="horario-titulo"></h2>

            <div class="horario-grid">
                
                <div id="ramo-list" class="ramo-list">
                    </div> 

                <div id="ramo-content" class="ramo-content">
                    
                    <div id="carrusel-tarjetas">
                        </div>

                    <div id="detalle-ramo" class="detalle-ramo oculto-detail">
                        <h3 id="detalle-ramo-titulo"></h3>
                        <div class="detalle-seccion">
                            <h4>üìä Asistencia</h4>
                            <p id="asistencia-info">Selecciona un ramo de la izquierda.</p>
                        </div>
                        <div class="detalle-seccion">
                            <h4>üìù Notas (Evaluaciones)</h4>
                            <ul id="notas-lista"></ul>
                        </div>
                        <div class="detalle-seccion">
                            <h4>üì£ Avisos del Profesor</h4>
                            <p id="avisos-info"></p>
                        </div>
                        
                        <button onclick="volverACarrusel()" class="btn-principal btn-volver">
                            ‚Üê Volver a Mi Semana
                        </button>
                    </div>
                </div> 
            </div>
        </section>

        <section id="mapa" class="panel oculto">
            <h2 class="panel-titulo"> MAPA DEL CAMPUS</h2>
            <div class="mapa-contenido">
                <p>Tu pr√≥xima clase es en el **Edificio C**. Utiliza el mapa para guiarte.</p>
                <div id="mapa-interactivo" style="width: 100%; height: 500px;"></div> 
            </div>
        </section>

        <section id="vr-view" class="panel oculto">
            <h2 class="panel-titulo"> TOUR VIRTUAL 360¬∞</h2>
            <div class="vr-contenido" style="height: 650px; text-align: center;">
                <a-scene id="vr-scene" embedded style="width: 100%; height: 100%;">
                    
                    <a-assets>
                        <img id="img-IMG_0837" src="imagenes/IMG_0837.jpg">
                        <img id="img-IMG_0867" src="imagenes/IMG_0867.jpg">
                        <img id="img-IMG_0887" src="imagenes/IMG_0887.jpg">
                        <img id="img-IMG_0822" src="imagenes/IMG_0822.jpg">
                        <img id="img-IMG_0847" src="imagenes/IMG_0847.jpg">
                        <img id="img-IMG_0857" src="imagenes/IMG_0857.jpg">
                        <img id="img-IMG_0852" src="imagenes/IMG_0852.jpg">
                        <img id="img-IMG_0859" src="imagenes/IMG_0859.jpg">
                        <img id="img-IMG_0861" src="imagenes/IMG_0861.jpg">
                        <img id="img-IMG_0877" src="imagenes/IMG_0877.jpg">
                        <img id="img-IMG_0878" src="imagenes/IMG_0878.jpg">
                        <img id="img-IMG_0803" src="imagenes/IMG_0803.jpg">
                        <img id="img-IMG_0800" src="imagenes/IMG_0800.jpg">
                        <img id="img-IMG_0805" src="imagenes/IMG_0805.jpg">
                        <img id="img-IMG_0796" src="imagenes/IMG_0796.jpg">
                        <img id="img-IMG_0797" src="imagenes/IMG_0797.jpg">
                    </a-assets>
                    
                    <a-entity id="image-360-container">
                        <a-image id="current-image-plane" 
                                 src="#img-IMG_0837" 
                                 width="8" height="6" 
                                 position="0 1.5 -6"> 
                        </a-image>
                    </a-entity>
                    
                    <a-entity id="hotspots-container"></a-entity>

                    <a-camera user-height="1.6">
                        <a-cursor color="#FF5100" scale="0.1 0.1 0.1"></a-cursor>
                    </a-camera>

                </a-scene>
                <p id="tour-info" style="margin-top: 15px; font-weight: bold;">Iniciando tour: Pasillo Principal</p>
                <p>Usa el rat√≥n o desliza el dedo para moverte. Haz clic en los botones para navegar.</p>
            </div>
        </section>


    </div>
    
    <div id="ai-widget-flotante" class="ocultar-widget">
        <elevenlabs-convai agent-id="agent_9201k952h6m1efeaest89346vebf"></elevenlabs-convai><script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"></script>
        </div>

    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

    <script src="app.js"></script>
</body>

</html>
